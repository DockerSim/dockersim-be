# Docker 명령어 지원 정책

이 문서는 Docker 시뮬레이션 학습 플랫폼에서 지원하는 명령어와 지원하지 않는 명령어에 대한 상세한 정책을 설명합니다.

## 🎯 지원 정책 원칙

### 교육 목적 우선

- **학습 효과가 높은 명령어 우선 지원**
- **Docker의 핵심 개념을 이해할 수 있는 명령어 집중**
- **복잡한 고급 기능보다는 기초 탄탄히**

### 구현 복잡도 고려

- **시뮬레이션 환경에서 재현 가능한 수준**
- **추가적인 외부 의존성 최소화**
- **교육 효과 대비 구현 비용 합리성**

### 안전한 학습 환경

- **실제 시스템에 영향을 주지 않는 환경**
- **Linux 명령어 환경 제외**
- **Docker 개념에만 집중**

---

## ✅ 지원하는 명령어 (총 17개)

### 🟢 1단계: 핵심 기본 명령어 (11개)

#### 컨테이너 라이프사이클 관리

| 명령어           | 지원 옵션                  | 교육 목적                 |
| ---------------- | -------------------------- | ------------------------- |
| `docker run`     | `-d`, `--name`, `-p`, `-v` | 컨테이너 실행의 기본 개념 |
| `docker ps`      | `-a`, `--all`              | 컨테이너 상태 확인        |
| `docker start`   | 컨테이너명/ID              | 라이프사이클 관리         |
| `docker stop`    | 컨테이너명/ID              | 라이프사이클 관리         |
| `docker restart` | 컨테이너명/ID              | 라이프사이클 관리         |
| `docker rm`      | `-f`, 컨테이너명/ID        | 리소스 정리               |

#### 모니터링 & 디버깅

| 명령어           | 지원 옵션     | 교육 목적      |
| ---------------- | ------------- | -------------- |
| `docker logs`    | 컨테이너명/ID | 로그 확인 방법 |
| `docker inspect` | 컨테이너명/ID | 상세 정보 조회 |

#### 이미지 관리

| 명령어          | 지원 옵션       | 교육 목적            |
| --------------- | --------------- | -------------------- |
| `docker images` | 기본 목록 조회  | 보유 이미지 확인     |
| `docker pull`   | 이미지명[:태그] | 이미지 다운로드 개념 |
| `docker rmi`    | 이미지명/ID     | 이미지 정리          |

### 🟡 2단계: 실무 활용 명령어 (6개)

#### 볼륨 관리

| 명령어                 | 지원 옵션      | 교육 목적        |
| ---------------------- | -------------- | ---------------- |
| `docker volume create` | 볼륨명         | 데이터 보존 개념 |
| `docker volume ls`     | 기본 목록 조회 | 볼륨 현황 파악   |
| `docker volume rm`     | 볼륨명         | 볼륨 정리        |

#### 네트워크 관리

| 명령어                  | 지원 옵션      | 교육 목적            |
| ----------------------- | -------------- | -------------------- |
| `docker network create` | 네트워크명     | 사용자 정의 네트워크 |
| `docker network ls`     | 기본 목록 조회 | 네트워크 현황 파악   |
| `docker network rm`     | 네트워크명     | 네트워크 정리        |

---

## ❌ 지원하지 않는 명령어와 이유

### 🔴 제외된 컨테이너 명령어

#### `docker exec -it` - 부분 지원 (제한적)

**현재 상태**: 특별 처리 방식 적용

**지원 방식**:

```bash
$ docker exec -it web-container bash
root@web:/#
> 컨테이너 내부 환경입니다.
> 'exit'을 입력하면 밖으로 나갑니다.
> 또는 다음 Docker 명령어를 사용하세요:
>   - docker ps (현재 실행 중인 컨테이너 확인)
>   - docker logs web-container (이 컨테이너 로그 확인)
root@web:/# exit
$
```

**제외된 기능**:

- Linux 명령어 실행 (`ls`, `cd`, `cat`, `vi` 등)
- 파일 시스템 탐색
- 패키지 설치/제거

**이유**:

1. **복잡성**: Linux 명령어 시뮬레이션은 별도의 가상 파일 시스템 필요
2. **교육 범위**: Docker 학습이 목적이므로 Linux 명령어는 범위 밖
3. **안전성**: 실제 시스템 명령어와 혼동 방지
4. **대안**: `docker logs`, `docker inspect`로 디버깅 가능

#### `docker create` - 2단계에서 지원 예정

**이유**: `docker run`과 유사하나 교육 효과 상대적으로 낮음

#### `docker commit` - 3단계에서 지원 예정

**이유**: 고급 주제로, 이미지 생성보다는 사용이 우선

### 🔴 제외된 이미지 명령어

#### `docker build` - 지원하지 않음

**이유**:

1. **Dockerfile 파싱**: 복잡한 Dockerfile 문법 파서 필요
2. **빌드 컨텍스트**: 파일 시스템 시뮬레이션 필요
3. **교육 범위**: Docker 기본 사용법 학습이 우선
4. **대안**: 미리 빌드된 이미지 사용으로 충분

**예외**: 매우 간단한 Dockerfile 교육 목적으로 3단계에서 고려

#### `docker push` - 지원하지 않음

**이유**:

1. **레지스트리 연동**: Docker Hub, 사설 레지스트리 연동 복잡
2. **인증 처리**: 계정, 권한 관리 필요
3. **교육 범위**: pull로 이미지 다운로드 개념 학습으로 충분
4. **시뮬레이션 한계**: 실제 업로드 없이 의미 있는 시뮬레이션 어려움

#### `docker history` - 3단계에서 지원 예정

**이유**: 이미지 레이어 개념은 고급 주제

#### `docker prune` - 3단계에서 지원 예정

**이유**: 시스템 정리는 기본 사용법 숙달 후 필요

### 🔴 제외된 네트워크 명령어

#### `docker network connect` - 2단계에서 지원 예정

**이유**: 기본 네트워크 생성/삭제 학습 후 필요

#### `docker network disconnect` - 3단계에서 지원 예정

**이유**: 고급 네트워크 관리 기능

#### `docker network inspect` - 2단계에서 지원 예정

**이유**: 네트워크 기본 개념 학습 후 상세 정보 확인

### 🔴 제외된 볼륨 명령어

#### `docker volume inspect` - 2단계에서 지원 예정

**이유**: 볼륨 기본 개념 학습 후 상세 정보 확인

#### `docker volume prune` - 3단계에서 지원 예정

**이유**: 시스템 정리는 고급 관리 기능

### 🔴 완전 제외 명령어

#### Docker Compose 관련

```bash
docker-compose up
docker-compose down
docker-compose ps
```

**이유**:

1. **별도 도구**: Docker와 별개의 도구로 복잡도 급증
2. **YAML 파싱**: docker-compose.yml 파일 처리 필요
3. **교육 범위**: Docker 기본기 완전 숙달 후 필요
4. **시뮬레이션 복잡성**: 멀티 컨테이너 오케스트레이션 시뮬레이션 복잡

#### 시스템 관리 명령어

```bash
docker system df
docker system prune
docker stats
```

**이유**: 시스템 레벨 관리는 Docker 기본 개념과 거리가 멀음

#### 고급 네트워킹

```bash
docker network create --subnet
docker network create --gateway
```

**이유**: IP 네트워킹 지식이 필요한 고급 주제

---

## 🎓 교육 단계별 학습 목표

### 1단계 완료 후 학습자가 할 수 있는 것

- ✅ 컨테이너를 실행하고 중지할 수 있음
- ✅ 포트 매핑으로 서비스를 외부에 노출할 수 있음
- ✅ 이미지를 다운로드하고 관리할 수 있음
- ✅ 컨테이너 로그를 확인해 문제를 해결할 수 있음

### 2단계 완료 후 학습자가 할 수 있는 것

- ✅ 볼륨으로 데이터를 보존할 수 있음
- ✅ 사용자 정의 네트워크를 만들 수 있음
- ✅ 여러 컨테이너를 연결해 서비스를 구성할 수 있음

### 3단계 완료 후 학습자가 할 수 있는 것

- ✅ 이미지 레이어 구조를 이해함
- ✅ 시스템 리소스를 효율적으로 관리할 수 있음
- ✅ 고급 네트워크 설정을 활용할 수 있음

---

## 🔄 명령어 옵션 지원 정책

### 🟢 지원하는 `docker run` 옵션

```bash
docker run [OPTIONS] IMAGE [COMMAND]

# 필수 옵션 (1단계)
-d, --detach          # 백그라운드 실행
--name string         # 컨테이너 이름 지정
-p, --publish         # 포트 매핑 (host:container)
-v, --volume          # 볼륨 마운트 (volume:path)

# 추가 옵션 (2단계)
--network string      # 네트워크 지정
-e, --env             # 환경 변수 설정 (간단한 형태)
```

### 🔴 지원하지 않는 `docker run` 옵션

```bash
# 복잡한 네트워킹
--link              # 레거시 기능
--net-alias         # 고급 네트워킹
--ip                # IP 직접 지정

# 보안 관련
--user              # 사용자 지정
--privileged        # 권한 상승
--cap-add/--cap-drop # 커널 권한

# 고급 리소스 관리
--memory            # 메모리 제한
--cpus              # CPU 제한
--restart           # 재시작 정책

# 복잡한 볼륨 마운트
--mount             # 복잡한 마운트 옵션
--tmpfs             # 임시 파일 시스템
```

**이유**: 시뮬레이션 환경에서 의미 없거나 구현 복잡도가 교육 효과를 상회

---

## 📈 향후 확장 계획

### Phase 4: 고급 교육 기능 (미래)

- **Dockerfile 기초**: 매우 간단한 Dockerfile 빌드 시뮬레이션
- **멀티 스테이지 빌드**: 이미지 최적화 학습
- **Docker Compose 기초**: YAML 기반 멀티 컨테이너 관리

### Phase 5: 실무 통합 (미래)

- **CI/CD 파이프라인**: GitHub Actions와 Docker 통합
- **Kubernetes 기초**: 컨테이너 오케스트레이션 입문
- **모니터링**: 로그 수집, 메트릭 모니터링

---

## 🤔 자주 묻는 질문

### Q: 왜 `docker exec`에서 Linux 명령어를 지원하지 않나요?

**A**: Docker 학습이 목적이므로 Linux 명령어는 범위를 벗어납니다. `docker logs`와 `docker inspect`로 컨테이너 상태를 충분히 확인할 수 있습니다.

### Q: `docker build`는 언제 지원되나요?

**A**: Docker 기본 사용법 학습 완료 후 고려할 예정입니다. 현재는 미리 빌드된 이미지 사용으로 충분합니다.

### Q: Docker Compose는 지원 계획이 있나요?

**A**: Docker 기본기 완전 숙달 후 별도 프로젝트로 고려할 예정입니다. 현재는 단일 컨테이너 학습에 집중합니다.

### Q: 실제 Docker와 다른 점이 있나요?

**A**: 교육 목적으로 일부 기능이 단순화되어 있지만, 핵심 개념과 명령어는 동일합니다.

---

**이 정책은 사용자 피드백과 교육 효과를 바탕으로 지속적으로 개선됩니다.**

**최종 업데이트**: 2024년 6월
**문서 버전**: 1.0
